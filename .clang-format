# 基于 LLVM 的 C/C++ 代码风格配置
# 适配项目习惯：4 空格缩进、120 列宽、include 归组与排序、指针左对齐

BasedOnStyle: LLVM

# 基本格式设置
IndentWidth: 4
TabWidth: 4
UseTab: Never
ColumnLimit: 120
LineEnding: LF

# 指针和引用对齐
PointerAlignment: Left
ReferenceAlignment: Left

# 大括号风格
BreakBeforeBraces: Attach
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon

# 缩进设置
IndentCaseLabels: true
IndentPPDirectives: AfterHash
IndentWrappedFunctionNames: false
ConstructorInitializerIndentWidth: 4
ContinuationIndentWidth: 4

# 函数和类格式
AllowShortFunctionsOnASingleLine: Inline
AllowShortIfStatementsOnASingleLine: WithoutElse
AllowShortLoopsOnASingleLine: true
AllowShortCaseLabelsOnASingleLine: true
AllowShortBlocksOnASingleLine: Empty

# Include 排序与归组
IncludeBlocks: Regroup
SortIncludes: CaseInsensitive
IncludeCategories:
  # 主头文件（对应的 .h 文件）
  - Regex: '^".*\.h"$'
    Priority: 1
  # 项目内部头文件
  - Regex: '^".*"$'
    Priority: 2
  # Qt 头文件
  - Regex: '^<Q.*>$'
    Priority: 3
  # 标准库头文件
  - Regex: '^<.*\.h>$'
    Priority: 4
  # C++ 标准库
  - Regex: '^<.*>$'
    Priority: 5

# 空格设置
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceBeforeCpp11BracedList: false
SpaceBeforeCtorInitializerColon: true
SpaceBeforeInheritanceColon: true
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: true
SpaceInEmptyParentheses: false
SpacesInAngles: Never
SpacesInContainerLiterals: false
SpacesInCStyleCastParentheses: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

# 换行设置
AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: false
AlwaysBreakTemplateDeclarations: MultiLine
BinPackArguments: false
BinPackParameters: false
BreakBeforeBinaryOperators: NonAssignment
BreakBeforeTernaryOperators: true
BreakStringLiterals: true

# 对齐设置
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignEscapedNewlines: Right
AlignOperands: Align
AlignTrailingComments: true

# 其他设置
CompactNamespaces: false
FixNamespaceComments: true
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 2
NamespaceIndentation: None
ReflowComments: true
SortUsingDeclarations: true

# 特定语言设置
Standard: Latest