# 贡献指南

[English Version](../CONTRIBUTING.md)

欢迎为 Fangjia Qt6 C++ UI 框架贡献代码和文档！本指南将帮助您了解贡献流程和规范。

## 文档贡献规范

### 文档结构与标题

- **文档标题**：使用一级标题（`# 标题`）作为文档标题
- **章节标题**：使用二级标题（`## 章节`）组织主要内容
- **小节标题**：使用三级及以下标题（`### 小节`）细分内容
- **目录**：长文档（超过 5 个章节）应在开头添加目录

### 术语统一

请参考 [术语表](./GLOSSARY.zh-CN.md) 确保术语翻译的一致性：

- **TopBar** → 顶栏
- **NavRail** → 侧边导航栏 
- **Follow System** → 跟随系统主题
- **Indicator** → 指示条
- **Widget** → 组件
- **Layout** → 布局
- **ViewModel** → 视图模型
- **Binding** → 绑定

### 代码示例

- 使用代码围栏（````cpp`）并指定语言
- 保持代码缩进一致（4 个空格）
- 添加必要的注释说明关键部分
- 确保代码示例与当前 API 保持同步

```cpp
// 示例：声明式 TopBar 配置
auto bar = UI::topBar()
    ->followSystem(true, true)    // 启用跟随系统主题，带动画
    ->cornerRadius(8.0f)          // 设置按钮圆角半径
    ->onThemeToggle([this]() {    // 主题切换回调
        // 处理主题变更逻辑
    });
```

### 标点符号规范

- **中文标点**：在中文段落中使用全角标点符号（，。？！；：""''）
- **英文标点**：在代码、API 名称和英文专有名词中使用半角标点
- **混排**：中英文混排时，英文词汇前后保留空格
- **列表**：使用中文标点结束列表项

### 链接与引用

- **相对路径**：使用相对路径链接文档，便于移动和维护
- **文档互链**：在相关文档之间添加交叉引用
- **外部链接**：标明外部链接的性质
- **图片引用**：图片文件使用描述性命名，存放在 `docs/images/` 目录

### 图片与媒体

- **图片命名**：使用英文和连字符，如 `topbar-animation-flow.png`
- **图片格式**：优先使用 PNG 格式，截图使用 JPEG
- **图片大小**：控制图片文件大小，必要时进行压缩
- **替代文本**：为所有图片添加有意义的 alt 文本

## PR 提交流程

### 提交规范

- **提交信息**：使用英文编写，格式为 `类型(范围): 描述`
- **类型标识**：
  - `docs`: 文档变更
  - `feat`: 新功能
  - `fix`: 问题修复
  - `refactor`: 代码重构
- **范围标识**：指明变更范围，如 `docs(zh-CN)`, `docs(api)`

示例提交信息：
```
docs(zh-CN): add Chinese documentation for TopBar animation
docs: update terminology in navigation components
docs(api): fix code examples in declarative widgets guide
```

### PR 准备

1. **小步提交**：将大的变更拆分为多个小的、逻辑清晰的提交
2. **预览验证**：在 GitHub 中预览 Markdown 渲染效果
3. **截图展示**：对于 UI 相关变更，提供前后对比截图
4. **链接检查**：确保所有内部链接正确工作
5. **关联 Issue**：如果解决了特定问题，在 PR 中引用相关 Issue

### 审查清单

在提交 PR 前，请检查：

- [ ] 文档遵循术语表中的统一翻译
- [ ] 代码示例可以正常运行
- [ ] 相对链接正确指向目标文档
- [ ] 标点符号使用规范
- [ ] 长文档包含目录
- [ ] 图片引用路径正确
- [ ] 提交信息简洁明确

## 代码贡献指引

### 代码规范

请参考 [编码规范](../编码规范.md) 了解 C++/Qt 代码风格要求。

### 测试要求

- 为新功能添加对应的单元测试
- 确保现有测试通过
- 添加集成测试验证复杂功能

### API 设计

- 保持 API 的一致性和可预测性
- 优先使用链式调用风格
- 为公开 API 提供完整的文档注释

## 社区交流

- **Issue 讨论**：通过 GitHub Issues 讨论功能需求和问题报告
- **代码审查**：积极参与代码审查，提供建设性反馈
- **文档改进**：发现文档问题时及时提出改进建议

感谢您的贡献！